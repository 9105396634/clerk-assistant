<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <title>‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§°‡§æ‡§Ø‡§∞‡•Ä - ‡§ï‡•ç‡§≤‡§∞‡•ç‡§ï ‡§Ö‡§∏‡§ø‡§∏‡•ç‡§ü‡•á‡§Ç‡§ü</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üí∞ ‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§°‡§æ‡§Ø‡§∞‡•Ä (Pocket Diary)</h1>
           <a href="index.html" style="text-decoration: none; font-weight: bold; color: #007bff;">üè† ‡§π‡•ã‡§Æ</a> 
        </header>

        <section class="form-section" style="background: #d4edda;">
            <h3>‡§®‡§Ø‡§æ ‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§ú‡•ã‡•ú‡•á‡§Ç</h3>
            <form id="expenseForm">
                <input type="text" id="expReason" placeholder="‡§ñ‡§∞‡•ç‡§ö‡•á ‡§ï‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ (e.g. ‡§´‡•ã‡§ü‡•ã‡§ï‡•â‡§™‡•Ä, ‡§ï‡•ã‡§∞‡•ç‡§ü ‡§´‡•Ä‡§∏)" required>
                <input type="number" id="expAmount" placeholder="‡§∞‡•Å‡§™‡§Ø‡•á (Amount)" required>
                <button type="submit" style="background-color: #28a745;">‡§ñ‡§∞‡•ç‡§ö‡§æ ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
            </form>
        </section>

        <section class="list-section">
            <h3>‡§ï‡•Å‡§≤ ‡§ñ‡§∞‡•ç‡§ö‡§æ: ‚Çπ<span id="totalAmount">0</span></h3>
            <table>
                <thead>
                    <tr>
                        <th>‡§µ‡§ø‡§µ‡§∞‡§£</th>
                        <th>‡§∞‡•Å‡§™‡§Ø‡•á</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="expenseTableBody"></tbody>
            </table>
        </section>
    </div>

    <script>
        const expenseForm = document.getElementById('expenseForm');
        const expenseTableBody = document.getElementById('expenseTableBody');

        document.addEventListener('DOMContentLoaded', displayExpenses);

        expenseForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const newExp = {
                id: Date.now(),
                reason: document.getElementById('expReason').value,
                amount: document.getElementById('expAmount').value
            };
            let expenses = JSON.parse(localStorage.getItem('myExpenses')) || [];
            expenses.push(newExp);
            localStorage.setItem('myExpenses', JSON.stringify(expenses));
            expenseForm.reset();
            displayExpenses();
        });

        function displayExpenses() {
            let expenses = JSON.parse(localStorage.getItem('myExpenses')) || [];
            expenseTableBody.innerHTML = '';
            let total = 0;
            expenses.forEach(item => {
                total += parseFloat(item.amount);
                expenseTableBody.innerHTML += `
                    <tr>
                        <td>${item.reason}</td>
                        <td>‚Çπ${item.amount}</td>
                        <td><button class="delete-btn" onclick="deleteExp(${item.id})">‡§π‡§ü‡§æ‡§è‡§Ç</button></td>
                    </tr>
                `;
            });
            document.getElementById('totalAmount').innerText = total;
        }

        function deleteExp(id) {
            let expenses = JSON.parse(localStorage.getItem('myExpenses')) || [];
            expenses = expenses.filter(item => item.id !== id);
            localStorage.setItem('myExpenses', JSON.stringify(expenses));
            displayExpenses();
        }
    </script>
</body>
</html>